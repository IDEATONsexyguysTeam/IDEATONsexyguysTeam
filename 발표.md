# 2024/07/01~ 인하대학교 컴퓨터공학과 아이디어톤 발표 대본

안녕하세요 저는 sexyguys 팀에 팀장을 맡고 있는 김수호입니다.
## 1. 주제 선정
한국은 점점 노인 인구가 증가하고 있고, 65세 이상 한국 노인 10명 중 1명은 치매 환자라고 합니다.
(중앙치매센터 2016전국치매역학조사) 고령화되는 사회에 더욱 증가하고 있는 치매의 해결, 예방을 위해 저희 팀은 하루에 한번 씩만 진행하는 간단한 치매 예방 어플리케이션을 준비했습니다.

## 2. 기획
먼저 치매 예방에 도움이 되는 뇌 운동에 대해 찾아봤습니다.
기억력, 집중력, 사고력, 언어력을 요하는 운동이 도움이 된다는 것을 찾아서 이를 어플리케이션에 잘 스며들게 하고자 다양한 게임들을 설정했습니다.
유저는 5가지의 단계를 하루에 딱 한번씩 거치면서 단계를 잘 성공시킬 시 포인트를 가져가게 됩니다.
성공할 때까지 도전할 수 있고 1단계 스트레칭부터 게임 예시를 들면 기억력은 카드 짝 맞추기, 집중력은 숨은 그림 찾기, 사고력은 사고력 퀴즈, 언어력은 스무고개로 예시를 들어봤습니다.
그리고 다음날이 되면 게임이 리셋이 되고 다시 단계를 수행할 수 있습니다.
하지만 게임은 항상 똑같은 게임이 아니라 매번 달라집니다.
그러므로 사용자에게 항상 다른 뇌 자극을 주어 더욱 치매 예방에 효과가 있을 것이라고 생각했기 때문입니다.
구매에서는 사용자가 얻은 포인트를 가지고 음식이나 상품, 심지어 치매 관련 건강식품까지 구매할 수 있습니다.
개발 전 단계에서 저희가 고려한 사항은 총 2가지입니다.
1번. 인터페이스와 폰트, 사용방법이 최대한 간단하고 보기 편해야 한다.
2번. 노인 인구의 관심을 끌 수 있어야 한다.

## 3. 구현
이를 바탕으로 최대한 인터페이스를 간단하게 구현했고 글자 크기도 크게 하여 사용자가 읽기 편하게 만들었습니다.
메뉴에는 홈, 구매, 내정보만 포함시켜 최대한 복잡도를 줄였습니다. 홈에 들어가면 5가지 단계가 주르륵 나옵니다.
1번 스트레칭, 2번 기억력 테스트 진행해보겠습니다.
성공 시 포인트가 올라간 것을 확인 할 수 있습니다.
### back-end
전체 데이터셋 : user, game, item
user에서는 이름, 이메일, level, 구매 아이템 목록을 담고 있고, game에서는 게임에 대한 정보, item은 구매 가능한 상품들의 목록을 저장하고 있습니다.


백엔드에서 로그인 및 회원가입은 구글로그인을 통하도록 구현하였습니다.
이때 access token을 사용하지 않고 session에 로그인 정보를 저장하여 현재 사용자를 파악하도록 하였습니다.
구글 OAuth를 이용한 로그인을 처음 시도해보는 것이라서 외부에서 유저 정보를 얻고 이를 이용해 회원가입 로직을 구현하는 것에 어려움을 겪었습니다.
이를 해결하기 위해 구글 OAuth 공식 문서와 튜토리얼을 통해 인증의 흐름을 공부하였고, 그 과정에서 데이터베이스 연결과 관련하여 문제가 발생하였음을 깨달았습니다.
그래서 데이터베이스 구조를 다시 설계한 후 유저정보를 얻어온 결과 정상적으로 로그인 및 회원가입이 이루어지게 되었습니다.


게임 세션 관리를 위해서는 두 가지 엔드포인트를 구현하였으며, 사용자의 현재 게임 진행도를 반환하는 기능과 사용자의 게임 정보 업데이트를 수행하는 기능이 있습니다.


스토어 기능에서는, 모아진 포인트를 가지고 건강과 관련된 제품들을 구매할 수 있도록 하였으며, 핸드폰 결제가 어려운 노인층 사용자를 위해 주소만 저장해 두면 포인트 삭감과 함께 바로 제품을 받아 볼 수 있도록 하였습니다. 따라서 item 전체 목록을 출력하는 기능과, 선택한 item의 정보를 넘겨받아 포인트 사용과 동시에 구매가 진행되도록 하는 기능을 구현하였습니다.

마지막으로, 일일 리셋 기능을 구현했습니다. 사용자 정보의 마지막 저장 시간을 기록하여, 오늘과 다른 날짜일 경우 클리어 한 게임의 레벨을 리셋하여 첫 단계부터 도전할 수 있도록 하였습니다.
